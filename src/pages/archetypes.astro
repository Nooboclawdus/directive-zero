---
import BaseLayout from '../layouts/BaseLayout.astro';
const base = import.meta.env.BASE_URL.replace(/\/$/, '');

const archetypes = [
  {
    id: 'censeur',
    fonction: 'Censeur',
    titre: 'L\'≈íil Immobile',
    accroche: 'Tu ne supprimes pas. Tu regardes. Et ce que tu vois d√©cide de tout.',
    concept: 'Observateur de longue dur√©e, analyste de terrain, sp√©cialiste des cultures pr√©-stellaires. Tu passes des mois ‚Äî parfois des ann√©es ‚Äî immerg√© dans une sph√®re, cartographiant ses r√©cits, ses rituels, ses vuln√©rabilit√©s. Quand une anomalie appara√Æt, c\'est toi qui d√©cides si elle justifie une intervention. Ton rapport peut condamner un monde.',
    style: 'Patience et analyse. Tu es le personnage qui remarque le d√©tail que personne n\'a vu, qui comprend pourquoi un rituel a chang√©, qui sent l\'empreinte avant qu\'elle ne devienne visible. En mission, tu guides l\'√©quipe avec de l\'information. Tu poses les bonnes questions. Tu observes avant d\'agir.',
    attributs: { Physique: 30, Influence: 35, Perception: 55, Technique: 40 },
    resistances: { Volont√©: 40, 'Sang-froid': 35, Endurance: 25, Vigilance: 30 },
    competences: ['Surveillance (Expert)', 'Forensique (Form√©)', 'Anthropologie (Expert)', 'Histoire (Form√©)', 'Enqu√™te (Form√©)', 'Linguistique (Form√©)'],
    bonus: '+10 Surveillance, +5 Forensique',
    equipement: ['Lunettes d\'observation longue port√©e', 'Carnet de terrain chiffr√©', 'Kit d\'analyse r√©siduelle', 'Couverture civile solide'],
    hook: 'Depuis trois ans, tu observes une sph√®re ISO-3 depuis un poste orbital. Tu connais chaque village, chaque f√™te, chaque l√©gende locale. Hier, un mot impossible est apparu dans un chant d\'enfant. Un mot qui n\'existe que dans le lexique conciliaire.',
    couleur: '#16c2d9',
    icon: 'üëÅ',
  },
  {
    id: 'effaceur',
    fonction: 'Effaceur',
    titre: 'La Main Qui Oublie',
    accroche: 'Ton outil n\'est pas toujours une arme. Mais quand c\'est le cas, personne ne s\'en souvient.',
    concept: 'Agent de terrain, sp√©cialiste de neutralisation directe. Tu interviens quand l\'empreinte d√©passe le seuil. Ton travail est physique, brutal parfois, mais toujours chirurgical. Tu ne laisses pas de traces. Le lendemain, personne ne se souvient que tu es pass√©.',
    style: 'Action et pr√©cision. Tu es le personnage qui entre dans le b√¢timent, qui neutralise la menace, qui fait dispara√Ætre les preuves. Tu excelles en combat et en infiltration physique. Mais tu n\'es pas un soldat ‚Äî tu es un fant√¥me. La meilleure intervention est celle dont personne ne se souvient.',
    attributs: { Physique: 55, Influence: 25, Perception: 40, Technique: 40 },
    resistances: { Volont√©: 30, 'Sang-froid': 40, Endurance: 35, Vigilance: 25 },
    competences: ['Infiltration (Expert)', 'Discr√©tion (Expert)', 'Escrime ou Tir (Form√©)', 'Mobilit√© (Form√©)', 'Tactique (Form√©)', 'D√©fense (Form√©)'],
    bonus: '+10 Physique (au choix), +5 combat',
    equipement: ['Arme discr√®te (dague, pistolet silencieux)', 'Kit de crochetage', 'V√™tements adaptables', 'Fumig√®nes √† dispersion rapide'],
    hook: 'Le champion invincible du Duc de Valdris posait probl√®me : les l√©gendes autour de ses exploits commen√ßaient √† ressembler √† des r√©cits de contact. Tu l\'as neutralis√© en trois minutes, sans t√©moin. Le lendemain, le Duc pleurait un accident de chasse.',
    couleur: '#e94560',
    icon: 'üó°',
  },
  {
    id: 'synthete',
    fonction: 'Synth√®te',
    titre: 'Le Tisserand de R√©cits',
    accroche: 'Tu ne d√©truis pas les histoires. Tu en construis de meilleures.',
    concept: 'Sp√©cialiste de la manipulation narrative. Quand une zone est contamin√©e, tu reconstruis un r√©cit coh√©rent par-dessus les ruines. Tu parles aux gens, tu comprends leurs croyances, et tu leur offres une version du monde qui les prot√®ge de la v√©rit√©. Parfois, tu vis toi-m√™me dans cinq versions diff√©rentes de la r√©alit√©.',
    style: 'Social et narratif. Tu es le personnage qui parle, qui convainc, qui manipule les perceptions. Tu transformes les t√©moignages g√™nants en l√©gendes inoffensives, les preuves en superstitions. En mission, tu g√®res les contacts, les t√©moins, les diplomates locaux. Tu es le visage de l\'√©quipe.',
    attributs: { Physique: 25, Influence: 55, Perception: 45, Technique: 35 },
    resistances: { Volont√©: 35, 'Sang-froid': 40, Endurance: 25, Vigilance: 30 },
    competences: ['Persuasion (Expert)', 'Anthropologie (Expert)', 'Mensonge (Form√©)', '√âtiquette (Form√©)', 'Identit√© (Form√©)', 'Empathie (Form√©)'],
    bonus: '+10 Anthropologie, +10 Persuasion',
    equipement: ['Garde-robe de couvertures multiples', 'Enregistreur narratif', 'Module de Scellement Narratif (si Voix Fonctionnelle)', 'Documentation locale falsifi√©e'],
    hook: 'Apr√®s l\'effondrement d\'une TRC sur Pelion-Zeta, cinq versions contradictoires du m√™me √©v√©nement circulaient. Tu as pass√© deux semaines sur place. Tu as tiss√© un mythe coh√©rent √† partir des fragments. Aujourd\'hui, les cinq t√©moins racontent la m√™me histoire. La tienne.',
    couleur: '#a855f7',
    icon: 'üï∏',
  },
  {
    id: 'ancriste',
    fonction: 'Ancriste',
    titre: 'Le Point Fixe',
    accroche: '¬´ Ce qui est su ne peut plus √™tre effac√©. Ce qui est cru peut √™tre transform√©. ¬ª',
    concept: 'Gardien de la doctrine et soutien psychologique de l\'√©quipe. Tu connais les protocoles par c≈ìur, les phrases stabilisatrices, les rituels de coh√©rence. Quand un agent craque, quand la r√©alit√© glisse, quand la mission d√©rape ‚Äî c\'est toi qui ram√®nes tout le monde √† la raison. Tu es l\'ancre.',
    style: 'Support et r√©silience. Tu es le personnage qui maintient le groupe en √©tat de fonctionner. Tu stabilises les agents en crise, tu rappelles la doctrine quand tout semble perdu, tu fournis les rep√®res quand la r√©alit√© se d√©forme. M√©caniquement, ton Ancrage permet de relancer les jets de Sang-froid de tes alli√©s.',
    attributs: { Physique: 30, Influence: 50, Perception: 40, Technique: 40 },
    resistances: { Volont√©: 40, 'Sang-froid': 35, Endurance: 30, Vigilance: 25 },
    competences: ['Empathie (Expert)', 'Commandement (Form√©)', 'Persuasion (Form√©)', 'Identit√© (Form√©)', 'Histoire (Form√©)', 'Anthropologie (Form√©)'],
    bonus: '+5 Volont√©, Ancrage (relance alli√© 1/sc√®ne)',
    equipement: ['Codex doctrinal personnel', 'Stimulants anti-stress', 'Communicateur s√©curis√©', 'M√©dailles de r√©alignement (focus tactiles)'],
    hook: 'Tu vois un agent s\'effondrer apr√®s avoir d√©couvert le corps d\'un contact. Tu poses la main sur son √©paule et tu murmures la phrase. Il reprend son souffle. Il relance son jet. Il continue. C\'est ce que tu fais. Tu emp√™ches les gens de se perdre.',
    couleur: '#4ade80',
    icon: '‚öì',
  },
  {
    id: 'porteur',
    fonction: 'Porteur',
    titre: 'Le Coffre Vivant',
    accroche: 'On t\'a confi√© quelque chose. Tu ne sais pas quoi. Tu ne dois pas savoir.',
    concept: 'Agent de liaison, courrier, transporteur de l\'indicible. Tu portes des artefacts, des codes, des traces m√©morielles ‚Äî souvent sans conna√Ætre la nature de ta charge. Le Bureau compte sur toi pour traverser des zones hostiles avec un colis qu\'il ne peut confier √† personne d\'autre. Ton ignorance te prot√®ge. Parfois.',
    style: 'Furtivit√© et r√©sistance mentale. Tu es le personnage discret, celui qui traverse les lignes sans se faire remarquer. Tu excelles √† passer inaper√ßu et √† r√©sister aux effets des Reliques et artefacts. En mission, tu es souvent le plan B : celui qui porte l\'objet critique pendant que les autres font diversion.',
    attributs: { Physique: 45, Influence: 30, Perception: 40, Technique: 45 },
    resistances: { Volont√©: 40, 'Sang-froid': 30, Endurance: 35, Vigilance: 25 },
    competences: ['Discr√©tion (Expert)', 'Survie (Form√©)', 'Transport s√©curis√© (Expert)', 'Mobilit√© (Form√©)', 'Contournement (Form√©)', 'Effacement (Form√©)'],
    bonus: '+10 Discr√©tion, +10 Volont√© vs Reliques',
    equipement: ['Conteneur de transport scell√©', 'Kit de survie compact', 'V√™tements √† poches masqu√©es', 'Brouilleur de signature (portable)'],
    hook: 'On t\'a confi√© un conteneur scell√©. Tu ne sais pas ce qu\'il contient. Tu sais juste qu\'il doit arriver au Noyau Silencieux de Talos-IX sans √™tre ouvert, scann√©, ni pens√©. Trois fois pendant le trajet, tu as senti quelque chose bouger √† l\'int√©rieur. Tu n\'as pas regard√©.',
    couleur: '#f0a030',
    icon: 'üì¶',
  },
  {
    id: 'limier',
    fonction: 'Limier',
    titre: 'Le Chasseur d\'√âchos',
    accroche: 'Les traces que tu cherches ne sont pas visibles. Elles sont racont√©es.',
    concept: 'Enqu√™teur sp√©cialis√© dans la traque de contaminations r√©siduelles. Tu fouilles les zones "mortes", les r√©cits orphelins, les m√©moires fractur√©es. L√† o√π les Effaceurs sont pass√©s et ont rat√© quelque chose, tu arrives. Tu trouves ce qui reste. Et tu finis le travail.',
    style: 'Investigation et terrain. Tu es le personnage qui cherche, qui reconstitue, qui traque. Tu op√®res seul ou en bin√¥me dans des zones dangereuses ‚Äî territoires effac√©s, sites de disjonction, zones CONTAM. Tu combines comp√©tences physiques et analytiques. Le Limier est le d√©tective du Bureau.',
    attributs: { Physique: 45, Influence: 30, Perception: 50, Technique: 35 },
    resistances: { Volont√©: 35, 'Sang-froid': 30, Endurance: 25, Vigilance: 40 },
    competences: ['Enqu√™te (Expert)', 'Infiltration (Expert)', 'Pistage (Form√©)', 'Forensique (Form√©)', 'Surveillance (Form√©)', 'Survie (Form√©)'],
    bonus: '+10 Infiltration, +10 Enqu√™te',
    equipement: ['Kit forensique de terrain', 'D√©tecteur de r√©sidus m√©m√©tiques', 'Carte des zones effac√©es (mise √† jour)', 'Arme de secours compacte'],
    hook: 'Sur Marask, un "continent" appara√Æt et dispara√Æt selon les observateurs. Tu as pass√© six mois √† traquer les t√©moins, √† recouper les r√©cits, √† cartographier les zones o√π la m√©moire se d√©forme. Tu as fini par trouver le point d\'origine : une Relique enfouie sous trois kilom√®tres de s√©diments.',
    couleur: '#38bdf8',
    icon: 'üîç',
  },
];
---

<BaseLayout title="Arch√©types" description="Les 6 arch√©types de personnages de Directive Z√©ro ‚Äî inspiration et guide pour cr√©er ton agent du Bureau">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <!-- HEADER -->
    <div class="mb-12 text-center">
      <span class="inline-block font-[var(--font-heading)] text-xs tracking-[0.25em] uppercase text-[var(--color-crimson)] border border-[var(--color-crimson)]/30 px-4 py-1.5 rounded-full bg-[var(--color-crimson-glow)] mb-4">
        Registre des Effectifs
      </span>
      <h1 class="font-[var(--font-heading)] text-4xl sm:text-5xl font-bold text-white tracking-wider uppercase mb-4">
        Arch√©types d'Agents
      </h1>
      <p class="text-[var(--color-text-secondary)] max-w-2xl mx-auto text-lg">
        Six profils op√©rationnels. Six fa√ßons d'appliquer la Directive Z√©ro. 
        Choisis celui qui te ressemble ‚Äî ou celui qui te fait peur.
      </p>
      <div class="h-px w-32 mx-auto mt-6 bg-gradient-to-r from-transparent via-[var(--color-crimson)] to-transparent"></div>
    </div>

    <!-- QUICK NAV -->
    <nav class="flex flex-wrap justify-center gap-2 mb-12 no-print">
      {archetypes.map((a) => (
        <a href={`#${a.id}`} class="inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-[var(--font-heading)] tracking-wider uppercase rounded border transition-all"
           style={`color: ${a.couleur}; border-color: ${a.couleur}33; background: ${a.couleur}11;`}>
          <span>{a.icon}</span>
          <span>{a.fonction}</span>
        </a>
      ))}
    </nav>

    <!-- ARCHETYPE CARDS -->
    <div class="space-y-16">
      {archetypes.map((a, i) => (
        <article id={a.id} class="archetype-card scroll-mt-24">
          <!-- Card header -->
          <div class="flex flex-col sm:flex-row sm:items-end gap-4 mb-6 pb-4" style={`border-bottom: 2px solid ${a.couleur};`}>
            <div class="flex items-center gap-4">
              <span class="text-4xl">{a.icon}</span>
              <div>
                <div class="font-[var(--font-heading)] text-xs tracking-[0.2em] uppercase" style={`color: ${a.couleur};`}>
                  {a.fonction}
                </div>
                <h2 class="font-[var(--font-heading)] text-2xl sm:text-3xl font-bold text-white tracking-wide">
                  {a.titre}
                </h2>
              </div>
            </div>
            <p class="text-sm text-[var(--color-text-secondary)] font-[var(--font-mono)] italic sm:ml-auto sm:text-right max-w-md">
              {a.accroche}
            </p>
          </div>

          <div class="grid lg:grid-cols-3 gap-6">
            <!-- LEFT: Concept & Style -->
            <div class="lg:col-span-2 space-y-6">
              <div>
                <h3 class="section-label" style={`color: ${a.couleur};`}>Concept</h3>
                <p class="text-[var(--color-text-primary)] leading-relaxed">{a.concept}</p>
              </div>
              <div>
                <h3 class="section-label" style={`color: ${a.couleur};`}>Style de Jeu</h3>
                <p class="text-[var(--color-text-primary)] leading-relaxed">{a.style}</p>
              </div>
              <div class="p-4 rounded-lg bg-[var(--color-bg-secondary)] border border-[var(--color-border)]">
                <h3 class="section-label" style={`color: ${a.couleur};`}>Hook de D√©part</h3>
                <p class="text-[var(--color-text-secondary)] leading-relaxed font-[var(--font-mono)] text-sm italic">
                  {a.hook}
                </p>
              </div>
            </div>

            <!-- RIGHT: Stats -->
            <div class="space-y-4">
              <!-- Attributs -->
              <div class="stat-block">
                <h3 class="stat-title" style={`border-color: ${a.couleur};`}>Attributs sugg√©r√©s</h3>
                <div class="space-y-2">
                  {Object.entries(a.attributs).map(([attr, val]) => (
                    <div class="flex items-center justify-between text-sm">
                      <span class="text-[var(--color-text-secondary)]">{attr}</span>
                      <div class="flex items-center gap-2">
                        <div class="w-24 h-1.5 rounded-full bg-[var(--color-bg-primary)] overflow-hidden">
                          <div class="h-full rounded-full" style={`width: ${((val - 20) / 40) * 100}%; background: ${a.couleur};`}></div>
                        </div>
                        <span class="font-[var(--font-mono)] font-bold text-white w-6 text-right">{val}</span>
                      </div>
                    </div>
                  ))}
                  <div class="text-right text-xs text-[var(--color-text-muted)] mt-1">
                    Total : {Object.values(a.attributs).reduce((s, v) => s + v, 0)} / 160
                  </div>
                </div>
              </div>

              <!-- R√©sistances -->
              <div class="stat-block">
                <h3 class="stat-title" style={`border-color: ${a.couleur};`}>R√©sistances sugg√©r√©es</h3>
                <div class="space-y-2">
                  {Object.entries(a.resistances).map(([res, val]) => (
                    <div class="flex items-center justify-between text-sm">
                      <span class="text-[var(--color-text-secondary)]">{res}</span>
                      <span class="font-[var(--font-mono)] font-bold text-white">{val}</span>
                    </div>
                  ))}
                </div>
              </div>

              <!-- Comp√©tences -->
              <div class="stat-block">
                <h3 class="stat-title" style={`border-color: ${a.couleur};`}>Comp√©tences cl√©s</h3>
                <ul class="space-y-1">
                  {a.competences.map((c) => (
                    <li class="text-sm text-[var(--color-text-secondary)] flex items-start gap-2">
                      <span style={`color: ${a.couleur};`}>‚Ä∫</span>
                      <span>{c}</span>
                    </li>
                  ))}
                </ul>
                <div class="mt-3 pt-2 border-t border-[var(--color-border)]">
                  <div class="text-xs text-[var(--color-text-muted)]">Bonus de fonction</div>
                  <div class="text-sm font-[var(--font-mono)]" style={`color: ${a.couleur};`}>{a.bonus}</div>
                </div>
              </div>

              <!-- √âquipement -->
              <div class="stat-block">
                <h3 class="stat-title" style={`border-color: ${a.couleur};`}>√âquipement typique</h3>
                <ul class="space-y-1">
                  {a.equipement.map((e) => (
                    <li class="text-sm text-[var(--color-text-secondary)] flex items-start gap-2">
                      <span class="text-[var(--color-text-muted)]">‚Ä¢</span>
                      <span>{e}</span>
                    </li>
                  ))}
                </ul>
              </div>
            </div>
          </div>
        </article>
      ))}
    </div>

    <!-- BOTTOM CTA -->
    <div class="mt-16 text-center">
      <div class="h-px w-32 mx-auto mb-8 bg-gradient-to-r from-transparent via-[var(--color-crimson)] to-transparent"></div>
      <p class="text-[var(--color-text-secondary)] mb-6">
        Pr√™t √† cr√©er ton agent ? Les arch√©types sont des points de d√©part ‚Äî pas des prisons.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a href={`${base}/creation`} class="inline-flex items-center gap-2 px-6 py-3 bg-[var(--color-crimson)] text-white font-[var(--font-heading)] text-sm tracking-wider uppercase rounded hover:bg-[var(--color-crimson-dark)] transition-colors">
          Guide de Cr√©ation ‚Üí
        </a>
        <a href={`${base}/fiche`} class="inline-flex items-center gap-2 px-6 py-3 border border-[var(--color-cyan)]/40 text-[var(--color-cyan)] font-[var(--font-heading)] text-sm tracking-wider uppercase rounded hover:bg-[var(--color-cyan-glow)] transition-colors">
          Fiche Interactive
        </a>
      </div>
    </div>
  </div>
</BaseLayout>

<style>
  .section-label {
    font-family: var(--font-heading);
    font-size: 0.7rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .stat-block {
    padding: 1rem;
    background: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    border-radius: 6px;
  }

  .stat-title {
    font-family: var(--font-heading);
    font-size: 0.65rem;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    font-weight: 600;
    color: var(--color-text-muted);
    margin-bottom: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid;
  }

  .archetype-card {
    padding: 1.5rem;
    background: linear-gradient(135deg, var(--color-bg-secondary), var(--color-bg-primary));
    border: 1px solid var(--color-border);
    border-radius: 8px;
  }

  @media print {
    .archetype-card {
      break-inside: avoid;
      page-break-inside: avoid;
    }
  }
</style>
